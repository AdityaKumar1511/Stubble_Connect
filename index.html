/* =========================================
   1. Main Layout Container
   ========================================= */
.map-layout {
    display: flex;
    /* Use 100dvh (dynamic viewport height) to handle mobile browser bars correctly */
    height: 100dvh; 
    width: 100%;
    overflow: hidden; /* Prevent body scroll, handle it inside panels */
}

/* =========================================
   2. Desktop / Default Styles
   ========================================= */
/* Sidebar (Left) - based on your class name */
.sidebar {
    width: 250px; /* Adjust as per your design */
    flex-shrink: 0;
    height: 100%;
    overflow-y: auto;
    background-color: #fff;
    border-right: 1px solid #e2e8f0;
}

/* List Panel (Left/Middle on Desktop) */
.list-panel {
    width: 400px;
    height: 100%;
    overflow-y: auto; /* ENABLE SCROLLING HERE */
    background: #ffffff;
    border-right: 1px solid #cbd5e1;
    z-index: 10;
    position: relative;
    padding-bottom: 80px; /* Space for bottom content */
}

/* Map Panel (Right/Fill on Desktop) */
.map-panel {
    flex: 1; /* Takes remaining space */
    height: 100%;
    position: relative;
    z-index: 1;
}

/* =========================================
   3. Mobile Styles (Your Screenshot Context)
   ========================================= */
@media (max-width: 768px) {
    
    .map-layout {
        flex-direction: column; /* Stack Map on top, List on bottom */
    }

    /* Hide Sidebar on mobile or make it a drawer */
    .sidebar {
        display: none; /* Or use a hamburger menu toggle */
    }

    /* Map takes the top portion */
    .map-panel {
        flex: 1; /* Grows to fill available space */
        width: 100%;
        order: 1;
    }

    /* List acts as a "Bottom Sheet" */
    .list-panel {
        order: 2;
        width: 100%;
        height: 45%; /* Your preferred height */
        
        /* THE CRITICAL FIXES: */
        overflow-y: auto; /* Allows internal scrolling */
        -webkit-overflow-scrolling: touch; /* Smooth scroll on iOS */
        
        position: relative;
        background: #ffffff;
        
        /* Visual Styling */
        border-radius: 24px 24px 0 0;
        box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.15);
        border-top: 1px solid #e2e8f0;
        z-index: 1000;
        
        /* Remove margin-bottom if it pushes content off-screen. 
           Instead, use padding inside so text isn't hidden behind nav bars. */
        margin-bottom: 0; 
        padding-bottom: 100px; /* Extra padding for bottom nav bar */
    }

    /* Optional: Add a "Drag Handle" visual to show it's a panel */
    .list-panel::before {
        content: '';
        display: block;
        width: 40px;
        height: 4px;
        background-color: #cbd5e1;
        margin: 12px auto;
        border-radius: 2px;
    }
}